<!DOCTYPE html>
<html dir="rtl" lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>الطلبات المرسلة</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@latest/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./assets/css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/lucide@latest/dist/umd/lucide.min.js"></script>
    <script src="./assets/js/main.js" defer></script>

</head>
<body class="bg-gray-100 text-gray-800">
    <!-- Header -->
    <header class="bg-white shadow-md fixed w-full z-10">
        <div class="container mx-auto px-4 py-3 flex items-center justify-between">
            <div class="flex items-center space-x-4">
               
                <input type="text" placeholder="بحث..." class="border rounded-lg px-3 py-1 focus:outline-none focus:ring-2 focus:ring-primary-light">
            </div>

            <div>
                 <span class="text-xl font-bold text-primary logo">
                    <img src="./assets/images/logo.png" class="w-12" alt="موثوق">
                </span>
            </div>
            <div class="flex items-center space-x-4">
                <div class="relative mx-4">
                    <button class="relative">
                        <i data-lucide="bell" class="w-6 h-6"></i>
                        <span class="absolute top-0 right-0 bg-red-500 text-white text-xs rounded-full px-1">3</span>
                    </button>
                </div>
                <div class="relative">
                    <button id="profile-dropdown-toggle" class="focus:outline-none">
                        <img src="./assets/images/logo.png" alt="Profile" class="w-8 h-8 rounded-full">
                    </button>
                    <div id="profile-dropdown-menu" class="absolute hidden bg-white shadow-md rounded-lg mt-2">
                        <a href="#" class="block px-4 py-2">الملف الشخصي</a>
                        <a href="index.html" class="block px-4 py-2">تسجيل الخروج</a>
                    </div>
                </div>
                <button id="dark-mode-toggle" class="focus:outline-none">
                    <i data-lucide="moon" class="w-6 h-6"></i>
                </button>
            </div>
        </div>
    </header>
<!-- Sidebar -->
     <aside class="bg-white shadow-lg fixed top-0 right-0 h-full w-64">
        <nav class="mt-16">
            <ul class="space-y-4">
                <li><a href="dashboard.html" class="flex items-center px-4 py-2 hover:bg-gray-100"><i data-lucide="home" class="w-5 h-5"></i> لوحة التحكم</a></li>
               <li><a href="parents-inquiry.html" class="flex items-center px-4 py-2 hover:bg-gray-100"><i data-lucide="home" class="w-5 h-5"></i> أولياء الأمور</a></li>
                <li>
                    <div class="flex items-center px-4 py-2 hover:bg-gray-100 cursor-pointer" id="parents-menu-toggle">
                        <i data-lucide="users" class="w-5 h-5"></i>
                        <span class="ml-2">الطلبات</span>
                        <i data-lucide="chevron-down" class="ml-auto w-4 h-4"></i>
                    </div>
                    <ul id="parents-submenu" class="ml-6 mt-2 space-y-2 hidden">
                        <li><a href="sent-requests.html" class="block px-4 py-2 hover:bg-gray-100">الطلبات المرسلة</a></li>
                        <li><a href="received-requests.html" class="block px-4 py-2 hover:bg-gray-100">الطلبات المستلمة</a></li>
                    </ul>
                </li>
                <li><a href="rfqs.html" class="flex items-center px-4 py-2 hover:bg-gray-100"><i data-lucide="file-text" class="w-5 h-5"></i> طلبات وعروض الأسعار</a></li>
                <li><a href="suppliers.html" class="flex items-center px-4 py-2 hover:bg-gray-100"><i data-lucide="truck" class="w-5 h-5"></i> الموردون</a></li>
                <li><a href="billing.html" class="flex items-center px-4 py-2 hover:bg-gray-100"><i data-lucide="credit-card" class="w-5 h-5"></i> الاشتراكات والفواتير</a></li>
                <li><a href="notifications.html" class="flex items-center px-4 py-2 hover:bg-gray-100"><i data-lucide="bell" class="w-5 h-5"></i> الإشعارات</a></li>
                <li><a href="reports.html" class="flex items-center px-4 py-2 hover:bg-gray-100"><i data-lucide="bar-chart" class="w-5 h-5"></i> التقارير</a></li>
                <li><a href="team.html" class="flex items-center px-4 py-2 hover:bg-gray-100"><i data-lucide="users" class="w-5 h-5"></i> الفريق والصلاحيات</a></li>
                <li><a href="settings.html" class="flex items-center px-4 py-2 hover:bg-gray-100"><i data-lucide="settings" class="w-5 h-5"></i> الإعدادات</a></li>
            </ul>
        </nav>
    </aside>


    <!-- Main Content -->
    <main class="mr-64 pt-16">
        <header class="bg-white shadow-md fixed w-full z-10">
            <div class="container mx-auto px-4 py-3 flex items-center justify-between">
                <h1 class="text-xl font-bold text-primary">الطلبات المرسلة</h1>
            </div>
        </header>
        <div class="container mx-auto px-4 pt-20">
            <!-- Search and Filter -->
            <section class="bg-white shadow-md rounded-lg p-4 mb-4">
                <div class="flex items-center space-x-4">
                    <input type="text" id="search" placeholder="بحث" class="border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-light w-full">
                    <select id="filter" class="border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-light">
                        <option value="">الكل</option>
                        <option value="pending">قيد المعالجة</option>
                        <option value="processed">تمت المعالجة</option>
                    </select>
                </div>
            </section>

            <!-- Table -->
            <section class="bg-white shadow-md rounded-lg p-4">
                <table class="w-full text-right border-collapse">
                    <thead>
                        <tr class="bg-gray-100">
                            <th class="px-4 py-2">اسم ولي الأمر</th>
                            <th class="px-4 py-2">الرقم الوطني</th>
                            <th class="px-4 py-2">تاريخ الإرسال</th>
                            <th class="px-4 py-2">الحالة</th>
                            <th class="px-4 py-2">عرض التفاصيل</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="hover:bg-gray-50">
                            <td class="px-4 py-2">أحمد علي</td>
                            <td class="px-4 py-2">12345678901234</td>
                            <td class="px-4 py-2">2025-09-04</td>
                            <td class="px-4 py-2 text-yellow-500">قيد المعالجة</td>
                            <td>
                                <button class=" text-white px-4 py-2 rounded">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M12.0004 16C13.2504 16 14.3129 15.5625 15.1879 14.6875C16.0629 13.8125 16.5004 12.75 16.5004 11.5C16.5004 10.25 16.0629 9.1875 15.1879 8.3125C14.3129 7.4375 13.2504 7 12.0004 7C10.7504 7 9.68789 7.4375 8.81289 8.3125C7.93789 9.1875 7.50039 10.25 7.50039 11.5C7.50039 12.75 7.93789 13.8125 8.81289 14.6875C9.68789 15.5625 10.7504 16 12.0004 16ZM12.0004 14.2C11.2504 14.2 10.6129 13.9375 10.0879 13.4125C9.56289 12.8875 9.30039 12.25 9.30039 11.5C9.30039 10.75 9.56289 10.1125 10.0879 9.5875C10.6129 9.0625 11.2504 8.8 12.0004 8.8C12.7504 8.8 13.3879 9.0625 13.9129 9.5875C14.4379 10.1125 14.7004 10.75 14.7004 11.5C14.7004 12.25 14.4379 12.8875 13.9129 13.4125C13.3879 13.9375 12.7504 14.2 12.0004 14.2ZM12.0004 19C9.76706 19 7.72956 18.4 5.88789 17.2C4.04622 16 2.59206 14.4167 1.52539 12.45C1.44206 12.3 1.37956 12.1458 1.33789 11.9875C1.29622 11.8292 1.27539 11.6667 1.27539 11.5C1.27539 11.3333 1.29622 11.1708 1.33789 11.0125C1.37956 10.8542 1.44206 10.7 1.52539 10.55C2.59206 8.58333 4.04622 7 5.88789 5.8C7.72956 4.6 9.76706 4 12.0004 4C14.2337 4 16.2712 4.6 18.1129 5.8C19.9546 7 21.4087 8.58333 22.4754 10.55C22.5587 10.7 22.6212 10.8542 22.6629 11.0125C22.7046 11.1708 22.7254 11.3333 22.7254 11.5C22.7254 11.6667 22.7046 11.8292 22.6629 11.9875C22.6212 12.1458 22.5587 12.3 22.4754 12.45C21.4087 14.4167 19.9546 16 18.1129 17.2C16.2712 18.4 14.2337 19 12.0004 19ZM12.0004 17C13.8837 17 15.6129 16.5042 17.1879 15.5125C18.7629 14.5208 19.9671 13.1833 20.8004 11.5C19.9671 9.81667 18.7629 8.47917 17.1879 7.4875C15.6129 6.49583 13.8837 6 12.0004 6C10.1171 6 8.38789 6.49583 6.81289 7.4875C5.23789 8.47917 4.03372 9.81667 3.20039 11.5C4.03372 13.1833 5.23789 14.5208 6.81289 15.5125C8.38789 16.5042 10.1171 17 12.0004 17Z" fill="#94A3B8"/>
</svg>

                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </section>
        </div>
    </main>

      <button id="sidebar-toggle" class="fixed top-3 right-4 z-50 bg-primary text-white p-2 rounded shadow md:hidden transition-transform duration-300">
        ☰
    </button>

    <script>
        lucide.createIcons();
        document.getElementById('dark-mode-toggle').addEventListener('click', () => {
            document.documentElement.classList.toggle('dark');
        });

        // Sidebar toggle functionality
        const sidebarToggle = document.getElementById('sidebar-toggle');
        const sidebar = document.querySelector('aside');

        sidebarToggle.addEventListener('click', () => {
            sidebar.classList.toggle('hidden');
            sidebarToggle.classList.toggle('rotate-90');
        });

        const profileDropdownToggle = document.getElementById('profile-dropdown-toggle');
        const profileDropdownMenu = document.getElementById('profile-dropdown-menu');

        profileDropdownToggle.addEventListener('click', () => {
            profileDropdownMenu.classList.toggle('hidden');
        });

       

        // Parents submenu toggle functionality
        const parentsMenuToggle = document.getElementById('parents-menu-toggle');
        const parentsSubmenu = document.getElementById('parents-submenu');

        parentsMenuToggle.addEventListener('click', () => {
            parentsSubmenu.classList.toggle('hidden');
        });
    </script>




<!-- Modal -->
<div id="details-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
  <div class="bg-white rounded-2xl shadow-lg w-full max-w-2xl p-6 relative">
    
    <!-- Close Button -->
    <button id="close-modal" class="absolute top-3 left-3 text-gray-400 hover:text-gray-600">
      ✕
    </button>

    <h2 class="text-lg font-bold mb-4">تفاصيل ولي الأمر</h2>

    <div class="space-y-4">
      <div>
        <label class="block text-gray-600 mb-1">الحالة</label>
        <input type="text" id="modal-status" class="w-full border rounded-lg px-3 py-2 bg-gray-100" readonly>
      </div>
      <div>
        <label class="block text-gray-600 mb-1">الاسم</label>
        <input type="text" id="modal-name" class="w-full border rounded-lg px-3 py-2 bg-gray-100" readonly>
      </div>
      <div>
        <label class="block text-gray-600 mb-1">الرقم الوطني</label>
        <input type="text" id="modal-id" class="w-full border rounded-lg px-3 py-2 bg-gray-100" readonly>
      </div>
    </div>

    <!-- Reply Section -->
    <div class="bg-gray-50 text-sm text-gray-700 p-3 rounded-lg mt-4">
      نفيدكم علماً بأن السجل المتعلق بولي الأمر المذكور يشير إلى وجود التزام مالي قائم...
    </div>

    <!-- Footer Buttons -->
    <div class="flex justify-between items-center mt-6">
      <button id="print-modal" class="bg-gray-200 px-4 py-2 rounded-lg hover:bg-gray-300">🖨 طباعة</button>
      <div class="space-x-2 space-x-reverse">
        <button id="download-modal" class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600">⬇️ تحميل</button>
        <button id="close-modal-footer" class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600">إغلاق</button>
      </div>
    </div>
  </div>
</div>

<script>
  // Modal Elements
  const modal = document.getElementById('details-modal');
  const closeModal = document.getElementById('close-modal');
  const closeModalFooter = document.getElementById('close-modal-footer');
  const downloadBtn = document.getElementById('download-modal');
  const printBtn = document.getElementById('print-modal');

  // Fill modal with row data
  document.querySelectorAll('table tbody tr').forEach(row => {
    row.querySelector('button').addEventListener('click', () => {
      const name = row.children[0].textContent.trim();
      const nationalId = row.children[1].textContent.trim();
      const date = row.children[2].textContent.trim();
      const status = row.children[3].textContent.trim();

      document.getElementById('modal-name').value = name;
      document.getElementById('modal-id').value = nationalId;
      document.getElementById('modal-status').value = status;

      modal.classList.remove('hidden');
      modal.classList.add('flex');
    });
  });

  // Close modal
  [closeModal, closeModalFooter].forEach(btn => {
    btn.addEventListener('click', () => {
      modal.classList.add('hidden');
    });
  });

  // Print
  printBtn.addEventListener('click', () => {
    window.print();
  });

  // Download as txt (example, ممكن تخليه PDF بعدين)
  downloadBtn.addEventListener('click', () => {
    const data = `
      الاسم: ${document.getElementById('modal-name').value}
      الرقم الوطني: ${document.getElementById('modal-id').value}
      الحالة: ${document.getElementById('modal-status').value}
    `;
    const blob = new Blob([data], { type: 'text/plain' });
    const link = document.createElement('a');
    link.href = URL.createObjectURL(blob);
    link.download = "ولي-الأمر.txt";
    link.click();
  });
</script>


</body>
</html>
